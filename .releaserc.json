{
  "branches": ["main"],
  "plugins": [
    "@semantic-release/commit-analyzer",
    "@semantic-release/release-notes-generator",
    ["@semantic-release/github", {
      "assets": [
        {"path": "tmp/cli", "label": "cli-linux-amd64"}
      ]
    }],
    ["@semantic-release-plus/docker", {
        "name": "purtontech/cloak-server:latest",
        "skipLogin": true
    }],
    ["@semantic-release-plus/docker", {
        "name": "purtontech/cloak-db-migrations:latest",
        "skipLogin": true
    }],
    ["@semantic-release-plus/docker", {
        "name": "purtontech/cloak-envoy:latest",
        "skipLogin": true
    }],
    ["@semantic-release-plus/docker", {
        "name": "purtontech/cloak-website:latest",
        "skipLogin": true
    }],
    ["@semantic-release/exec", {
      "publishCmd": "./update-config.sh",
      "execCwd": "./infra"
    }],
    ["@semantic-release/exec", {
      "publishCmd": "./update-version.sh ${nextRelease.version}",
      "execCwd": "./infra"
    }],
    ["@semantic-release/exec", {
      "publishCmd": "./update-git.sh ${nextRelease.version}",
      "execCwd": "./infra"
    }]
  ]
}
